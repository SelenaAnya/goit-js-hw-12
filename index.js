import{a as y,S as h,i as u}from"./assets/vendor-DSdoZYMr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const g="49640008-31ceefc585112d8f472f2aefe",p="https://pixabay.com/api/";async function f(r,t=1){const{data:a}=await y.get(p,{params:{key:g,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t}});return a}function L(r){const t=r.map(({webformatURL:s,tags:e})=>`
        <li class="gallery-item">
            <a href="${s}">
                <img src="${s}" alt="${e}" />
            </a>
        </li>
    `).join("");document.querySelector(".gallery").innerHTML+=t,new h(".gallery a").refresh()}function b(){document.querySelector(".gallery").innerHTML=""}function S(){document.querySelector(".loader").classList.add("visible")}function m(){document.querySelector(".loader").classList.remove("visible")}function q(){document.querySelector(".load-more").classList.add("visible")}function v(){document.querySelector(".load-more").classList.remove("visible")}let c="",n=1,d=0;document.querySelector(".js-image-list");const i=document.querySelector(".js-load-more");document.querySelector(".search-form");document.querySelector(".gallery-item");document.addEventListener("DOMContentLoaded",()=>{i.addEventListener("click",M)});document.querySelector(".search-form").addEventListener("submit",async r=>{if(r.preventDefault(),c=r.target.elements.searchQuery.value.trim(),n=1,b(),v(),!!c)try{S();const t=await f(c,n);if(m(),d=t.totalHits,t.hits.length===0){u.error({message:"Нічого не знайдено"});return}L(t.hits),n<Math.ceil(d/15)&&q()}catch{m(),u.error({message:"Помилка завантаження"})}});async function M(){n++,i.disabled=!0,i.innerHTML="Loading...";try{const r=await f(c,n);container.insertAdjacentHTML("beforeend",createMarkup(r.hits)),i.disabled=!1,i.innerHTML="Load more",n*15>=d&&(i.classList.replace("load-more","load-more-hidden"),alert("We're sorry, but you've reached the end of search results."));const t=document.querySelector(".gallery-item");if(t){const a=t.getBoundingClientRect().height;window.scrollBy({left:0,top:a*2,behavior:"smooth"})}}catch(r){alert(r.message)}}
//# sourceMappingURL=index.js.map
