import{a as g,S as y,i as s}from"./assets/vendor-CgF8RhW3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();const v="49640008-31ceefc585112d8f472f2aefe",L="https://pixabay.com/api/";async function f(o,e=1){const{data:c}=await g.get(L,{params:{key:v,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:e}});return c}function m(o){const e=o.map(({webformatURL:i,tags:t,likes:r,views:n,comments:p,downloads:h})=>`
        <li class="gallery-item">
            <a href="${i}">
                <div class="loader active"></div>
                <img src="${i}" alt="${t}" onload="hideImageLoader(this)" />
            </a>
            <div class="image-info">
                <p class="info-item"><span class="info-value">Likes:</span> ${r}</p>
                <p class="info-item"><span class="info-value">Views:</span> ${n}</p>
                <p class="info-item"><span class="info-value">Comments:</span> ${p}</p>
                <p class="info-item"><span class="info-value">Downloads:</span> ${h}</p>
            </div>
        </li>
    `).join("");document.querySelector(".gallery").innerHTML+=e,new y(".gallery a").refresh()}function b(){document.querySelector(".gallery").innerHTML=""}function S(){document.querySelector(".loader").classList.add("visible")}function q(){document.querySelector(".loader").classList.remove("visible")}function E(){const o=document.querySelector(".load-more-btn");o&&o.classList.add("visible")}function u(){const o=document.querySelector(".load-more-btn");o&&o.classList.remove("visible")}const M=document.querySelector(".search-form");document.querySelector(".load-more-btn");let l="",a=1,d=0;u();M.addEventListener("submit",async function(o){if(o.preventDefault(),l=o.target.elements.searchQuery.value.trim(),a=1,!l){s.error({title:"Error",message:"Please enter a search query",position:"topRight"});return}b(),S(),u();try{const e=await f(l,a);if(d=e.totalHits,e.hits.length===0){s.error({title:"Error",message:"No images found. Try again.",position:"topRight"});return}m(e.hits),s.success({title:"Success",message:`Found ${d} images!`,position:"topRight"}),a<Math.ceil(d/15)?E():(u(),s.info({title:"Info",message:"You've reached the end of search results.",position:"topRight"}))}catch(e){s.error({title:"Error",message:`Error fetching images: ${e.message}`,position:"topRight"})}finally{q()}});document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".load-more-btn");if(!o){console.error("loadMoreBtn not found in DOM!");return}o.addEventListener("click",async function(){showGlobalLoader(),a++;try{const e=await f(l,a);if(e.hits.length===0){u(),s.info({title:"Info",message:"You've reached the end of search results.",position:"topRight"});return}m(e.hits),smoothScroll()}catch(e){s.error({title:"Error",message:`Error fetching more images: ${e.message}`,position:"topRight"})}finally{hideGlobalLoader()}})});
//# sourceMappingURL=index.js.map
