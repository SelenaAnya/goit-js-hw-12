import{a as p,S as y,i as u}from"./assets/vendor-DSdoZYMr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const g="49640008-31ceefc585112d8f472f2aefe",h="https://pixabay.com/api/";async function f(r,t=1){const{data:a}=await p.get(h,{params:{key:g,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t}});return a}function L(r){const t=r.map(({webformatURL:n,tags:e})=>`
        <li class="gallery-item">
            <a href="${n}">
            <div class="loader"></div>
                <img src="${n}" alt="${e}" />
            </a>
            <div class="image-info">
                <p class="info-item"><span class="info-value">Likes:</span> ${image.likes}</p>
                <p class="info-item"><span class="info-value">Views:</span> ${image.views}</p>
                <p class="info-item"><span class="info-value">Comments:</span> ${image.comments}</p>
                <p class="info-item"><span class="info-value">Downloads:</span> ${image.downloads}</p>
            </div>
        </li>
    `).join("");document.querySelector(".gallery").innerHTML+=t,new y(".gallery a").refresh()}function v(){document.querySelector(".gallery").innerHTML=""}function b(){document.querySelector(".loader").classList.add("visible")}function m(){document.querySelector(".loader").classList.remove("visible")}function S(){document.querySelector(".load-more").classList.add("visible")}let l="",i=1,d=0;document.querySelector(".js-image-list");const s=document.querySelector(".js-load-more");document.querySelector(".search-form");document.querySelector(".gallery-item");document.addEventListener("DOMContentLoaded",()=>{s.addEventListener("click",q)});document.querySelector(".search-form").addEventListener("submit",async r=>{if(r.preventDefault(),l=r.target.elements.searchQuery.value.trim(),i=1,v(),!!l)try{b();const t=await f(l,i);if(m(),d=t.totalHits,t.hits.length===0){u.error({message:"Нічого не знайдено"});return}L(t.hits),i<Math.ceil(d/15)&&S()}catch{m(),u.error({message:"Помилка завантаження"})}});async function q(){i++,s.disabled=!0,s.innerHTML="Loading...";try{const r=await f(l,i);container.insertAdjacentHTML("beforeend",createMarkup(r.hits)),s.disabled=!1,s.innerHTML="Load more",i*15>=d&&(s.classList.replace("load-more","load-more-hidden"),alert("We're sorry, but you've reached the end of search results."));const t=document.querySelector(".gallery-item");if(t){const a=t.getBoundingClientRect().height;window.scrollBy({left:0,top:a*2,behavior:"smooth"})}}catch(r){alert(r.message)}}
//# sourceMappingURL=index.js.map
