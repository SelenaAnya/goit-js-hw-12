import{a as L,S as v,i as m}from"./assets/vendor-DSdoZYMr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const b="49640008-31ceefc585112d8f472f2aefe",S="https://pixabay.com/api/";async function f(r,t=1){const{data:a}=await L.get(S,{params:{key:b,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t}});return a}function p(r){const t=r.map(({webformatURL:n,tags:e,likes:o,views:l,comments:h,downloads:g})=>`
        <li class="gallery-item">
            <a href="${n}">
                <div class="loader"></div>
                <img src="${n}" alt="${e}" />
            </a>
            <div class="image-info">
                <p class="info-item"><span class="info-value">Likes:</span> ${o}</p>
                <p class="info-item"><span class="info-value">Views:</span> ${l}</p>
                <p class="info-item"><span class="info-value">Comments:</span> ${h}</p>
                <p class="info-item"><span class="info-value">Downloads:</span> ${g}</p>
            </div>
        </li>
    `).join("");document.querySelector(".gallery").innerHTML+=t,new v(".gallery a").refresh()}function q(){document.querySelector(".gallery").innerHTML=""}function y(){document.querySelector(".loader").classList.add("visible")}function d(){document.querySelector(".loader").classList.remove("visible")}function M(){document.querySelector(".load-more").classList.add("visible")}function w(){document.querySelector(".load-more").classList.remove("visible")}let c="",i=1,u=0;document.querySelector(".js-image-list");const s=document.querySelector(".js-load-more");document.querySelector(".search-form");document.querySelector(".gallery-item");function H(r){console.log("Touch started",r)}document.addEventListener("touchstart",H,{passive:!0});document.querySelector(".search-form").addEventListener("submit",async r=>{if(r.preventDefault(),c=r.target.elements.searchQuery.value.trim(),i=1,q(),w(),!!c)try{y();const t=await f(c,i);if(d(),u=t.totalHits,t.hits.length===0){m.error({message:"Нічого не знайдено"});return}p(t.hits),i<Math.ceil(u/15)&&M()}catch{d(),m.error({message:"Помилка завантаження"})}});s.addEventListener("click",T);async function T(){i++,s.disabled=!0,s.innerHTML="Loading...",y();try{const r=await f(c,i);d(),p(r.hits),s.disabled=!1,s.innerHTML="Load more",i*15>=u&&(s.classList.replace("load-more","load-more-hidden"),alert("We're sorry, but you've reached the end of search results."));const t=document.querySelector(".gallery-item");if(t){const a=t.getBoundingClientRect().height;window.scrollBy({left:0,top:a*2,behavior:"smooth"})}}catch(r){d(),s.disabled=!1,s.innerHTML="Load more",alert(r.message)}}
//# sourceMappingURL=index.js.map
