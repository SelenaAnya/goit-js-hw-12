import{a as p,S as L,i as n}from"./assets/vendor-DSdoZYMr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const v="49640008-31ceefc585112d8f472f2aefe",b="https://pixabay.com/api/";async function f(o,t=1){const{data:i}=await p.get(b,{params:{key:v,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t}});return i}function m(o){const t=o.map(({webformatURL:a,tags:e})=>`
        <li class="gallery-item">
            <a href="${a}">
                <img src="${a}" alt="${e}" />
            </a>
        </li>
    `).join("");document.querySelector(".gallery").innerHTML+=t,new L(".gallery a").refresh()}function S(){document.querySelector(".gallery").innerHTML=""}function y(){document.querySelector(".loader").classList.add("visible")}function l(){document.querySelector(".loader").classList.remove("visible")}function h(){document.querySelector(".load-more").classList.add("visible")}function g(){document.querySelector(".load-more").classList.remove("visible")}let c="",s=1,d=0;document.querySelector(".search-form").addEventListener("submit",async o=>{if(o.preventDefault(),c=o.target.elements.searchQuery.value.trim(),s=1,S(),g(),!!c)try{y();const t=await f(c,s);if(l(),d=t.totalHits,t.hits.length===0){n.error({message:"Нічого не знайдено"});return}m(t.hits),s<Math.ceil(d/15)&&h()}catch{l(),n.error({message:"Помилка завантаження"})}});document.querySelector(".load-more").addEventListener("click",async()=>{s++;try{y();const o=await f(c,s);l(),m(o.hits),s>=Math.ceil(d/15)?(g(),n.warning({message:"We're sorry, but you've reached the end of search results."})):h();const t=document.querySelector(".gallery-item");if(t){const i=t.getBoundingClientRect().height;window.scrollBy({left:0,top:i*2,behavior:"smooth"})}}catch{l(),n.error({message:"Помилка завантаження"})}});
//# sourceMappingURL=index.js.map
