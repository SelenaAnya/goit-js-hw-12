{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '49640008-31ceefc585112d8f472f2aefe';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query, page) {\n    try {\n        const response = await fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=15`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error('Error fetching images:', error);\n    }\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loadMoreButton = document.querySelector('.load-more');\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n    const markup = images.map(img =>\n        `<a href=\"${img.largeImageURL}\" class=\"gallery-item\">\n            <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n        </a>`).join('');\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.classList.add('visible');\n}\n\nexport function hideLoader() {\n    loader.classList.remove('visible');\n}\n\nexport function showLoadMoreButton() {\n    loadMoreButton.classList.add('visible');\n}\n\nexport function hideLoadMoreButton() {\n    loadMoreButton.classList.remove('visible');\n}","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n    createGallery, clearGallery, showLoader, hideLoader,\n    showLoadMoreButton, hideLoadMoreButton\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst loadMoreButton = document.querySelector('.load-more');\nlet searchQuery = '';\nlet page = 1;\n\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    searchQuery = event.target.elements.search.value.trim();\n    if (!searchQuery) return;\n    page = 1;\n    clearGallery();\n    hideLoadMoreButton();\n    fetchImages();\n});\n\nloadMoreButton.addEventListener('click', () => {\n    page++;\n    fetchImages();\n});\n\nasync function fetchImages() {\n    showLoader();\n    const data = await getImagesByQuery(searchQuery, page);\n    hideLoader();\n\n    if (data.hits.length === 0) {\n        iziToast.error({ title: 'Oops!', message: 'No images found.' });\n        return;\n    }\n\n    createGallery(data.hits);\n\n    if (page * 15 >= data.totalHits) {\n        hideLoadMoreButton();\n        iziToast.info({ title: 'End of results', message: \"We're sorry, but you've reached the end of search results.\" });\n    } else {\n        showLoadMoreButton();\n    }\n\n    smoothScroll();\n}\n\nfunction smoothScroll() {\n    const galleryItem = document.querySelector('.gallery-item');\n    if (galleryItem) {\n        const height = galleryItem.getBoundingClientRect().height;\n        window.scrollBy({ top: height * 2, behavior: 'smooth' });\n    }\n}"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","page","error","galleryContainer","loader","loadMoreButton","lightbox","SimpleLightbox","createGallery","images","markup","img","clearGallery","showLoader","hideLoader","showLoadMoreButton","hideLoadMoreButton","form","searchQuery","event","fetchImages","data","iziToast","smoothScroll","galleryItem","height"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAOC,EAAM,CAChD,GAAI,CAGA,OADa,MADI,MAAM,MAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAMG,CAAK,iEAAiEC,CAAI,cAAc,GACzH,MAE/B,OAAQC,EAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,CAChD,CACL,CCRA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAiB,SAAS,cAAc,YAAY,EAEpDC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GACtB,YAAYA,EAAI,aAAa;AAAA,wBACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA,aAC7C,EAAE,KAAK,EAAE,EAClBR,EAAiB,mBAAmB,YAAaO,CAAM,EACvDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BT,EAAiB,UAAY,EACjC,CAEO,SAASU,GAAa,CACzBT,EAAO,UAAU,IAAI,SAAS,CAClC,CAEO,SAASU,GAAa,CACzBV,EAAO,UAAU,OAAO,SAAS,CACrC,CAEO,SAASW,GAAqB,CACjCV,EAAe,UAAU,IAAI,SAAS,CAC1C,CAEO,SAASW,GAAqB,CACjCX,EAAe,UAAU,OAAO,SAAS,CAC7C,CC5BA,MAAMY,EAAO,SAAS,cAAc,cAAc,EAC5CZ,EAAiB,SAAS,cAAc,YAAY,EAC1D,IAAIa,EAAc,GACdjB,EAAO,EAEXgB,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAC7CA,EAAM,eAAc,EACpBD,EAAcC,EAAM,OAAO,SAAS,OAAO,MAAM,OAC5CD,IACLjB,EAAO,EACPW,IACAI,IACAI,IACJ,CAAC,EAEDf,EAAe,iBAAiB,QAAS,IAAM,CAC3CJ,IACAmB,GACJ,CAAC,EAED,eAAeA,GAAc,CACzBP,IACA,MAAMQ,EAAO,MAAMtB,EAAiBmB,EAAajB,CAAI,EAGrD,GAFAa,IAEIO,EAAK,KAAK,SAAW,EAAG,CACxBC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,kBAAkB,CAAE,EAC9D,MACH,CAEDd,EAAca,EAAK,IAAI,EAEnBpB,EAAO,IAAMoB,EAAK,WAClBL,IACAM,EAAS,KAAK,CAAE,MAAO,iBAAkB,QAAS,4DAA4D,CAAE,GAEhHP,IAGJQ,GACJ,CAEA,SAASA,GAAe,CACpB,MAAMC,EAAc,SAAS,cAAc,eAAe,EAC1D,GAAIA,EAAa,CACb,MAAMC,EAASD,EAAY,sBAAqB,EAAG,OACnD,OAAO,SAAS,CAAE,IAAKC,EAAS,EAAG,SAAU,QAAQ,CAAE,CAC1D,CACL"}