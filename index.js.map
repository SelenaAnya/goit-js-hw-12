{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '49640008-31ceefc585112d8f472f2aefe';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query, page) {\n    try {\n        const response = await fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=15`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error('Error fetching images:', error);\n    }\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loadMoreButton = document.querySelector('.load-more');\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n    clearGallery();\n\n    const markup = images.map(image => `\n    <li class=\"gallery-item\" style=\"list-style: none;\">\n      <a href=\"${image.largeImageURL}\">\n      <div class=\"image-container\">\n      <span class=\"loader visible\"></span>\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" \n        style=\"box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); object-fit: cover;\">\n      </div>\n      </a>\n     <div class=\"image-info\">\n        <p class=\"info-item\"><span class=\"info-value\">Likes</span> ${image.likes}</p>\n        <p class=\"info-item\"><span class=\"info-value\">Views</span> ${image.views}</p>\n        <p class=\"info-item\"><span class=\"info-value\">Comments</span> ${image.comments}</p>\n        <p class=\"info-item\"><span class=\"info-value\">Downloads</span> ${image.downloads}</p>\n      </div>\n    </li>\n  `).join('');\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n\n    hideLoader();\n\n    document.querySelectorAll(\".image-container img\").forEach((img) => {\n        const loader = img.closest(\".image-container\")?.querySelector(\".loader\");\n        if (loader) {\n            if (img.complete) {\n                loader.classList.remove(\"visible\");\n            } else {\n                img.addEventListener(\"load\", () => loader.classList.remove(\"visible\"));\n            }\n        }\n    });\n\n    if (!images || images.length === 0) {\n        console.warn(\"Немає зображень для відображення!\");\n        return;\n    }\n\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.classList.add('visible');\n}\n\nexport function hideLoader() {\n    loader.classList.remove('visible');\n}\n\nexport function showLoadMoreButton() {\n    loadMoreButton.classList.add('visible');\n}\n\nexport function hideLoadMoreButton() {\n    loadMoreButton.classList.remove('visible');\n}\n\ngalleryContainer.style.listStyle = \"none\";\ngalleryContainer.style.width = \"1200px\";\ngalleryContainer.style.display = \"grid\";\ngalleryContainer.style.textAlign = \"center\";\ngalleryContainer.style.gridTemplateColumns = \"repeat(3, 1fr)\";\ngalleryContainer.style.gap = \"24px\";\ngalleryContainer.style.margin = \"0 auto\";\ngalleryContainer.style.justifyContent = \"center\";\ngalleryContainer.style.alignItems = \"center\";\ngalleryContainer.style.marginTop = \"108px\";\n\n\n// Styling gallery cards\nconst galleryItems = document.querySelectorAll(\".gallery-item\");\n\ngalleryItems.forEach((item) => {\n    item.style.overflow = \"hidden\";\n    item.style.boxShadow = \"0 4px 8px rgba(0, 0, 0, 0.2)\";\n    item.style.transition = \"transform 0.3s ease-in-out\";\n\n    item.addEventListener(\"mouseover\", () => {\n        item.style.transform = \"scale(1.05)\";\n    });\n\n    item.addEventListener(\"mouseout\", () => {\n        item.style.transform = \"scale(1)\";\n    });\n\n    const infoBlocks = document.querySelectorAll(\".image-info\");\n\n    infoBlocks.forEach((block) => {\n        block.style.display = \"flex\";\n        block.style.flexWrap = \"wrap\";\n        block.style.justifyContent = \"center\";\n        block.style.textAlign = \"center\";\n        block.style.fontSize = \"12px\";\n        block.style.border = \"1px solid #808080\";\n        block.style.padding = \"10px\";\n        block.style.margin = \"0\";\n    });\n\n});\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n    createGallery, clearGallery, showLoader, hideLoader,\n    showLoadMoreButton, hideLoadMoreButton\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchInput = document.querySelector(\"input[name='search']\");\nconst form = document.querySelector('#search-form');\nconst loadMoreButton = document.querySelector('.load-more');\nlet searchQuery = '';\nlet page = 1;\n\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    searchQuery = event.target.elements.search.value.trim();\n    if (!searchQuery) return;\n    page = 1;\n    clearGallery();\n    hideLoadMoreButton();\n    fetchImages();\n});\n\nloadMoreButton.addEventListener('click', () => {\n    page++;\n    fetchImages();\n});\n\nasync function fetchImages() {\n    showLoader();\n    const data = await getImagesByQuery(searchQuery, page);\n    hideLoader();\n\n    if (data.hits.length === 0) {\n        iziToast.error({ title: 'Oops!', message: 'No images found.' });\n        return;\n    }\n\n    createGallery(data.hits);\n\n    if (page * 15 >= data.totalHits) {\n        hideLoadMoreButton();\n        iziToast.info({ title: 'End of results', message: \"We're sorry, but you've reached the end of search results.\" });\n    } else {\n        showLoadMoreButton();\n    }\n\n    smoothScroll();\n}\n\nfunction smoothScroll() {\n    const galleryItem = document.querySelector('.gallery-item');\n    if (galleryItem) {\n        const height = galleryItem.getBoundingClientRect()?.height || 0;\n        if (height) {\n            window.scrollBy({ top: height * 2, behavior: 'smooth' });\n        }\n    }\n}\n\nif (searchInput) {\n    searchInput.style.width = \"300px\";\n    searchInput.style.padding = \"10px\";\n    searchInput.style.border = \"2px solid #4E75FF\";\n    searchInput.style.borderRadius = \"8px\";\n    searchInput.style.fontSize = \"16px\";\n    searchInput.style.color = \"#333\";\n    searchInput.style.backgroundColor = \"#f9f9f9\";\n    searchInput.style.outline = \"none\";\n    searchInput.style.transition = \"0.3s\";\n\n    if (loadMoreButton) {\n        loadMoreButton.style.padding = \"12px 24px\";\n        loadMoreButton.style.fontSize = \"16px\";\n        loadMoreButton.style.fontWeight = \"bold\";\n        loadMoreButton.style.color = \"#ffffff\";\n        loadMoreButton.style.backgroundColor = \"#4E35DE\";\n        loadMoreButton.style.border = \"none\";\n        loadMoreButton.style.borderRadius = \"8px\";\n        loadMoreButton.style.cursor = \"pointer\";\n        loadMoreButton.style.transition = \"0.3s\";\n    }\n\n    // Effect in focus\n    searchInput.addEventListener(\"focus\", () => {\n        searchInput.style.borderColor = \"#61dafb\";\n        searchInput.style.boxShadow = \"0 0 10px rgba(97, 218, 251, 0.5)\";\n    });\n\n    searchInput.addEventListener(\"blur\", () => {\n        searchInput.style.borderColor = \"#4E35DE\";\n        searchInput.style.boxShadow = \"none\";\n    });\n}\n\nconst searchButton = document.querySelector(\"button[type='submit']\");\n\nif (searchButton) {\n    searchButton.style.padding = \"12px 24px\";\n    searchButton.style.fontSize = \"16px\";\n    searchButton.style.fontWeight = \"bold\";\n    searchButton.style.color = \"#ffffff\";\n    searchButton.style.backgroundColor = \"#4E35DE\";\n    searchButton.style.border = \"none\";\n    searchButton.style.borderRadius = \"8px\";\n    searchButton.style.cursor = \"pointer\";\n    searchButton.style.transition = \"0.3s\";\n\n    // Hovering effect\n    searchButton.addEventListener(\"mouseover\", () => {\n        searchButton.style.backgroundColor = \"#4E75FF\";\n    });\n\n    searchButton.addEventListener(\"mouseout\", () => {\n        searchButton.style.backgroundColor = \"#4E35DE\";\n    });\n\n    // Effect on click\n    searchButton.addEventListener(\"mousedown\", () => {\n        searchButton.style.transform = \"scale(0.95)\";\n    });\n\n    searchButton.addEventListener(\"mouseup\", () => {\n        searchButton.style.transform = \"scale(1)\";\n    });\n}"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","page","error","galleryContainer","loader","loadMoreButton","lightbox","SimpleLightbox","createGallery","images","clearGallery","markup","image","hideLoader","img","_a","showLoader","showLoadMoreButton","hideLoadMoreButton","galleryItems","item","block","searchInput","form","searchQuery","event","fetchImages","data","iziToast","smoothScroll","galleryItem","height","searchButton"],"mappings":"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"}