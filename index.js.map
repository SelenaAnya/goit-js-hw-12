{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '49640008-31ceefc585112d8f472f2aefe';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query, page) {\n    try {\n        const response = await fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=15`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error('Error fetching images:', error);\n    }\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loadMoreButton = document.querySelector('.load-more');\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n    const markup = images.map(img =>\n        `<a href=\"${img.largeImageURL}\" class=\"gallery-item\">\n            <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n        </a>`).join('');\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.classList.add('visible');\n}\n\nexport function hideLoader() {\n    loader.classList.remove('visible');\n}\n\nexport function showLoadMoreButton() {\n    loadMoreButton.classList.add('visible');\n}\n\nexport function hideLoadMoreButton() {\n    loadMoreButton.classList.remove('visible');\n}","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n    createGallery, clearGallery, showLoader, hideLoader,\n    showLoadMoreButton, hideLoadMoreButton\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchInput = document.querySelector(\"input[name='search']\");\nconst form = document.querySelector('#search-form');\nconst loadMoreButton = document.querySelector('.load-more');\nlet searchQuery = '';\nlet page = 1;\n\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    searchQuery = event.target.elements.search.value.trim();\n    if (!searchQuery) return;\n    page = 1;\n    clearGallery();\n    hideLoadMoreButton();\n    fetchImages();\n});\n\nloadMoreButton.addEventListener('click', () => {\n    page++;\n    fetchImages();\n});\n\nasync function fetchImages() {\n    showLoader();\n    const data = await getImagesByQuery(searchQuery, page);\n    hideLoader();\n\n    if (data.hits.length === 0) {\n        iziToast.error({ title: 'Oops!', message: 'No images found.' });\n        return;\n    }\n\n    createGallery(data.hits);\n\n    if (page * 15 >= data.totalHits) {\n        hideLoadMoreButton();\n        iziToast.info({ title: 'End of results', message: \"We're sorry, but you've reached the end of search results.\" });\n    } else {\n        showLoadMoreButton();\n    }\n\n    smoothScroll();\n}\n\nfunction smoothScroll() {\n    const galleryItem = document.querySelector('.gallery-item');\n    if (galleryItem) {\n        const height = galleryItem.getBoundingClientRect()?.height || 0;\n        if (height) {\n            window.scrollBy({ top: height * 2, behavior: 'smooth' });\n        }\n    }\n}\n\nif (searchInput) {\n    searchInput.style.width = \"300px\";\n    searchInput.style.padding = \"10px\";\n    searchInput.style.border = \"2px solid #4E35DE\";\n    searchInput.style.borderRadius = \"8px\";\n    searchInput.style.fontSize = \"16px\";\n    searchInput.style.color = \"#333\";\n    searchInput.style.backgroundColor = \"#f9f9f9\";\n    searchInput.style.outline = \"none\";\n    searchInput.style.transition = \"0.3s\";\n\n    if (loadMoreButton) {\n        loadMoreButton.style.padding = \"12px 24px\";\n        loadMoreButton.style.fontSize = \"16px\";\n        loadMoreButton.style.fontWeight = \"bold\";\n        loadMoreButton.style.color = \"#ffffff\";\n        loadMoreButton.style.backgroundColor = \"#4E35DE\";\n        loadMoreButton.style.border = \"none\";\n        loadMoreButton.style.borderRadius = \"8px\";\n        loadMoreButton.style.cursor = \"pointer\";\n        loadMoreButton.style.transition = \"0.3s\";\n    }\n\n    // Effect in focus\n    searchInput.addEventListener(\"focus\", () => {\n        searchInput.style.borderColor = \"#61dafb\";\n        searchInput.style.boxShadow = \"0 0 10px rgba(97, 218, 251, 0.5)\";\n    });\n\n    searchInput.addEventListener(\"blur\", () => {\n        searchInput.style.borderColor = \"#4E35DE\";\n        searchInput.style.boxShadow = \"none\";\n    });\n}\n\nconst searchButton = document.querySelector(\"button[type='submit']\");\n\nif (searchButton) {\n    searchButton.style.padding = \"12px 24px\";\n    searchButton.style.fontSize = \"16px\";\n    searchButton.style.fontWeight = \"bold\";\n    searchButton.style.color = \"#ffffff\";\n    searchButton.style.backgroundColor = \"#4E35DE\";\n    searchButton.style.border = \"none\";\n    searchButton.style.borderRadius = \"8px\";\n    searchButton.style.cursor = \"pointer\";\n    searchButton.style.transition = \"0.3s\";\n\n    // Hovering effect\n    searchButton.addEventListener(\"mouseover\", () => {\n        searchButton.style.backgroundColor = \"#61dafb\";\n    });\n\n    searchButton.addEventListener(\"mouseout\", () => {\n        searchButton.style.backgroundColor = \"#4E35DE\";\n    });\n\n    // Effect on click\n    searchButton.addEventListener(\"mousedown\", () => {\n        searchButton.style.transform = \"scale(0.95)\";\n    });\n\n    searchButton.addEventListener(\"mouseup\", () => {\n        searchButton.style.transform = \"scale(1)\";\n    });\n}"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","page","error","galleryContainer","loader","loadMoreButton","lightbox","SimpleLightbox","createGallery","images","markup","img","clearGallery","showLoader","hideLoader","showLoadMoreButton","hideLoadMoreButton","searchInput","form","searchQuery","event","fetchImages","data","iziToast","smoothScroll","galleryItem","height","_a","searchButton"],"mappings":"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"}